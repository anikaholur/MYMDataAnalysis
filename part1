import numpy as np
import pandas as pd
import matplotlib as mpl
import matplotlib.pyplot as plt 
import seaborn as sns 
#importing data
df = pd.read_csv(r'C:\Users\anika\OneDrive\MYM\7004_1.csv', on_bad_lines='skip', low_memory = False)
#lower case brand names for consistency
df['brand'] = df['brand'].str.lower()
#we only want to look at shoes given in USD for consistency
df = df[df["prices.currency"].str.contains("USD")==True]
#we only want to look at new shoes
df = df[df["prices.condition"].str.contains("new|New")==True]
#ensure that all min values are indeed numeric before performing calculations
df["prices.amountMin"] = pd.to_numeric(df["prices.amountMin"], downcast="float")
#obtaining mean, median, and standard deviation calculations
print(df.groupby('brand')['prices.amountMin'].mean())
print(df.groupby('brand')['prices.amountMin'].median())
print(df.groupby('brand')['prices.amountMin'].std())
#rename column names 
df = df.rename(columns={"prices.amountMin":"Minimum Price ($)", "brand":"Brand", "prices.isSale": "Sale"})
#sample size of 30 for graph purposes
df = df.sample(n=30)
chart = sns.barplot(x='Brand', y='Minimum Price ($)', data=df, ci = None)
plt.figure(figsize=(17,8))
for p in chart.patches:
    chart.annotate("%.0f" % p.get_height(), (p.get_x() + p.get_width() / 2., p.get_height()),
    ha='center', va='center', fontsize=13, color='black', xytext=(0, 10),
    textcoords='offset points')
plt.show()
